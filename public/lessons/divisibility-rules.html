<!DOCTYPE html>

<html dir="rtl" lang="ar">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>معرفة قواعد قابلية القسمة</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
        @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&display=swap');
        
        * {
            font-family: 'Cairo', sans-serif;
        }
        
        .correct {
            background-color: #10b981 !important;
            color: white;
            transform: scale(1.05);
            transition: all 0.3s ease;
        }
        
        .incorrect {
            background-color: #ef4444 !important;
            color: white;
            transform: scale(1.05);
            transition: all 0.3s ease;
        }
        
        .cell:hover {
            transform: scale(1.02);
            cursor: pointer;
        }
        
        .rules-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .number-input {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
        }
        
        .bounce-in {
            animation: bounceIn 0.5s ease-out;
        }
        
        @keyframes bounceIn {
            0% { transform: scale(0.3); opacity: 0; }
            50% { transform: scale(1.05); }
            70% { transform: scale(0.9); }
            100% { transform: scale(1); opacity: 1; }
        }
        
        .shake {
            animation: shake 0.5s ease-in-out;
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-50 to-purple-100 min-h-screen">
<div class="container mx-auto px-4 py-6">
<!-- Header -->
<div class="text-center mb-8">
<h1 class="text-4xl font-bold text-purple-800 mb-2">🧮 معرفة قواعد قابلية القسمة</h1>
<p class="text-lg text-gray-600">تعلم قواعد القسمة على الأرقام 2، 3، 4، 5، و 9 بطريقة ممتعة!</p>
</div>
<!-- Controls -->
<div class="bg-white rounded-xl shadow-lg p-6 mb-6">
<div class="grid grid-cols-1 md:grid-cols-3 gap-4 items-center">
<div class="number-input rounded-lg p-4">
<label class="block text-sm font-semibold text-gray-700 mb-2">أدخل رقمًا:</label>
<input class="w-full px-3 py-2 border border-gray-300 rounded-lg text-lg text-center" id="manualNumber" min="1" placeholder="اكتب رقمًا هنا" type="number"/>
<button class="w-full mt-2 bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-lg transition duration-300" onclick="addManualNumber()">إضافة الرقم</button>
</div>
<div class="text-center">
<button class="bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-6 rounded-lg transition duration-300 text-lg" onclick="generateRandomNumbers()">
                        🎲 أرقام عشوائية
                    </button>
</div>
<div class="text-center">
<button class="bg-red-500 hover:bg-red-600 text-white font-bold py-3 px-6 rounded-lg transition duration-300 text-lg" onclick="clearTable()">
                        🗑️ مسح الجدول
                    </button>
</div>
</div>
</div>
<!-- Main Table -->
<div class="bg-white rounded-xl shadow-lg p-6 mb-6 overflow-x-auto">
<table class="w-full min-w-[500px]" id="divisibilityTable">
<thead>
<tr class="bg-gradient-to-r from-purple-500 to-pink-500 text-white">
<th class="py-3 px-4 text-lg font-bold rounded-tl-lg">الأرقام</th>
<th class="py-3 px-4 text-lg font-bold">÷2</th>
<th class="py-3 px-4 text-lg font-bold">÷3</th>
<th class="py-3 px-4 text-lg font-bold">÷4</th>
<th class="py-3 px-4 text-lg font-bold">÷5</th>
<th class="py-3 px-4 text-lg font-bold rounded-tr-lg">÷9</th>
</tr>
</thead>
<tbody id="tableBody">
<!-- Rows will be added here dynamically -->
</tbody>
</table>
</div>
<!-- Rules Section -->
<div class="rules-card rounded-xl shadow-lg p-6 text-white mb-6">
<h2 class="text-2xl font-bold mb-4 text-center">📚 قواعد قابلية القسمة</h2>
<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4">
<div class="bg-white/20 rounded-lg p-4">
<h3 class="font-bold text-lg mb-2">القسمة على 2</h3>
<p class="text-sm">الرقم الأخير زوجي (0,2,4,6,8)</p>
</div>
<div class="bg-white/20 rounded-lg p-4">
<h3 class="font-bold text-lg mb-2">القسمة على 3</h3>
<p class="text-sm">مجموع الأرقام يقبل القسمة على 3</p>
</div>
<div class="bg-white/20 rounded-lg p-4">
<h3 class="font-bold text-lg mb-2">القسمة على 4</h3>
<p class="text-sm">آخر رقمين يقبلان القسمة على 4</p>
</div>
<div class="bg-white/20 rounded-lg p-4">
<h3 class="font-bold text-lg mb-2">القسمة على 5</h3>
<p class="text-sm">ينتهي بـ 0 أو 5</p>
</div>
<div class="bg-white/20 rounded-lg p-4">
<h3 class="font-bold text-lg mb-2">القسمة على 9</h3>
<p class="text-sm">مجموع الأرقام يقبل القسمة على 9</p>
</div>
</div>
</div>
<!-- Feedback Section -->
<div class="bg-white rounded-xl shadow-lg p-6 hidden" id="feedback">
<h3 class="text-xl font-bold mb-3" id="feedbackTitle"></h3>
<p class="text-gray-700" id="feedbackText"></p>
</div>
</div>
<!-- Success/Error Sounds (visual feedback) -->
<div class="fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-6xl hidden z-50" id="successEmoji">✅</div>
<div class="fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-6xl hidden z-50" id="errorEmoji">❌</div>

<pre id="result"></pre><button onclick="run()">تشغيل الدرس</button>
<script>
async function run() {
    const res = await fetch("/.netlify/functions/divisibility-rules");
    const text = await res.text();
    document.getElementById("result").textContent = text;
}
</script>
</body>
</html>